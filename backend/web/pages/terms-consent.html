<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>이용약관 및 개인정보처리방침</title>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            font-family: 'Noto Sans KR', sans-serif;
            background-image: url('/static/img/discord-bot-terms.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            color: #222;
            height: 100vh;
            width: 100vw;
            overflow: hidden;
        }

        .container {
            max-width: 960px;
            margin: 0 auto;
            padding: 40px 20px;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 30px;
        }

        .terms-box {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(8px);
            padding: 30px;
            border-radius: 16px;
            border: none;
            width: 100%;
            height: 60vh;
            overflow-y: auto;
            box-shadow: 0 0 12px rgba(0, 0, 0, 0.3);
        }

        h1 {
            font-size: 1.5em;
            font-weight: bold;
            color: white;
        }

        h2 {
            font-size: 1.1em;
            font-weight: bold;
            color: white;
        }

        p, li {
            font-size: 1em;
            line-height: 1.6;
            color: white;
        }

        ul {
            padding-left: 20px;
        }

        .checkbox-box {
            text-align: center;
        }

        .checkbox-box input {
            transform: scale(1.3);
            margin-right: 8px;
        }

        .warning-text {
            color: rgb(242, 7, 132);
            font-size: 1em;
            margin-top: 8px;
            display: none;
        }

        label {
            font-size: 1em;
            color: white;
        }

        .button-box {
            text-align: center;
        }

        .agree-btn {
            padding: 12px 24px;
            background-color: #5865F2;
            border-radius: 24px;
            font-size: clamp(14px, 1.4vw, 18px);
            color: white;
            font-weight: bold;
            text-decoration: none;
            white-space: nowrap;
            cursor: pointer;
            transition: background-color 0.2s ease;
            border: none;
        }

        .agree-btn:disabled {
            background-color: #d3d3d3;
            color: #f5f5f5;
            cursor: not-allowed;
        }

        .agree-btn:hover {
            background-color: #4752c4;
        }
    </style>
</head>
<body>
<div class="container">
    <div class="terms-box" id="terms-box">
        <h1><strong>이용약관</strong></h1>
        <h2>제1조 (이용 목적)</h2>
        <p>본 서비스는 협업 플랫폼 간 정보 연동, 자동화 메시지 전송 및 구조화된 커뮤니케이션 흐름을 제공하여, 프로젝트 협업의 효율성을 높이는 데 목적이 있습니다.</p>
        <p>이용자는 본 서비스를 자유롭게 사용할 수 있으며, 다음과 같은 용도로는 사용할 수 없습니다:</p>
        <ul>
            <li>타인의 권리를 침해하거나 불법적 활동을 위한 목적</li>
            <li>Discord API, GitHub API, Notion API 등의 이용약관 위반 행위</li>
        </ul>

        <h2>제2조 (서비스 내용)</h2>
        <p>본 서비스는 다음 기능을 포함합니다:</p>
        <ul>
            <li>Notion 페이지 생성 시 Discord 포럼 스레드 자동 생성</li>
            <li>GitHub 커밋 또는 Notion 문서 변경 시 Discord 채널에 자동 알림 전송</li>
        </ul>
        <p>본 서비스는 GitHub, Notion, Discord API 연동을 기반으로 하며, 운영자에 의해 기능 개선 또는 변경될 수 있습니다.</p>
        <p>서비스는 비상업적이며, 지속적인 운영 및 개선을 보장하지 않습니다.</p>

        <h2>제3조 (책임의 한계)</h2>
        <p>본 서비스는 "있는 그대로(As-Is)" 제공됩니다. 개발자는 기능의 오류, 외부 API 정책 변경, 이용자 간 분쟁 등으로 인해 발생하는 직접적 또는 간접적인 피해에 대해 어떠한 법적 책임도
            지지
            않습니다.</p>

        <h2>제4조 (이용자의 의무)</h2>
        <p>이용자는 서비스 이용 과정에서 다음을 준수해야 합니다:</p>
        <ul>
            <li>타인의 정보나 시스템을 침해하거나, 부정한 접근 또는 조작을 하지 않을 것</li>
            <li>불법 프로그램 사용 또는 자동화된 악성 호출 등을 하지 않을 것</li>
        </ul>
        <p>위반 시, 서비스 제공이 중단되거나 Discord 측의 제재가 발생할 수 있습니다.</p>

        <h2>제5조 (지식재산권 및 오픈소스 라이선스)</h2>
        <p>본 서비스의 코드, 기능, 문서 등은 Apache License 2.0 하에 오픈소스로 제공됩니다.</p>
        <p>누구나 자유롭게 사용, 수정, 배포할 수 있으며, 사용 시 출처 명시 및 라이선스 고지를 포함해야 합니다.</p>
        <p>서비스 내 사용된 Discord, GitHub, Notion 등의 로고 및 상표권은 각 사의 자산이며, 본 서비스는 해당 플랫폼의 공식 제품이 아닙니다.</p>

        <h2>제6조 (문의처)</h2>
        <p>서비스 관련 문의는 아래 방법 중 하나를 통해 가능하며, 별도의 이메일 수신은 운영하지 않습니다:</p>
        <ul>
            <li>디스코드 지원 서버 참여: <a href="https://discord.gg/Y7v493UHBQ">https://discord.gg/Y7v493UHBQ</a></li>
            <li>또는 디스코드에서 봇에게 직접 DM</li>
        </ul>

        <p>최종 업데이트일: 2025년 5월 14일</p>
        <hr/>
        <h1>개인정보처리방침</h1>
        <h2>제1조 (목적)</h2>
        <p>본 방침은 서비스 이용 시 이용자의 개인정보를 어떻게 수집·이용·보호하는지에 대한 기준을 제시합니다. 본 디스코드 봇(이하 ‘회사’)은 관련 법령을 준수하고, 이용자의 개인정보를 안전하게
            처리합니다.</p>

        <h2>제2조 (개인정보 처리의 원칙)</h2>
        <p>회사는 최소한의 개인정보만을 수집하고, 수집 목적 이외의 용도로 사용하지 않으며, 이용자의 동의 없이 제3자에게 제공하지 않습니다.</p>

        <h2>제3조 (방침의 공개)</h2>
        <p>본 방침은 디스코드 명령어나 연결된 웹페이지를 통해 언제든지 확인할 수 있도록 공개됩니다.</p>

        <h2>제4조 (방침의 변경)</h2>
        <p>법령 및 정책 변경 시 최소 7일 전 공지하며, 중요한 변경사항은 최소 30일 전 공지됩니다.</p>

        <h2>제5조 (개인정보 수집 항목 및 방법)</h2>
        <p>회사는 디스코드 API가 제공하는 범위 내에서 다음과 같은 정보를 수집합니다:</p>
        <ul>
            <li>Discord 사용자 ID, 사용자명, 태그, 아바타</li>
            <li>소속 서버 ID 및 이름, 서버 내 역할 정보</li>
            <li>사용자가 Discord 명령어, Modal, 컴포넌트 등을 통해 직접 입력한 정보 (예: Notion 토큰)</li>
            <li><strong>Discord의 일반 메시지 본문(message content)은 어떠한 방식으로도 저장하지 않습니다.</strong></li>
        </ul>
        <p>이 정보는 디스코드 API, 명령어 입력, 외부 플랫폼 연동 과정 등에서 수집됩니다.</p>

        <h2>제6조 (개인정보의 이용)</h2>
        <p>수집된 개인정보는 다음 목적 범위 내에서만 사용됩니다:</p>
        <ul>
            <li>Notion 연동 및 알림 기능 제공</li>
            <li>사용자 맞춤형 기능 및 시스템 개선</li>
            <li>공지사항 전달 및 서비스 품질 향상</li>
            <li><strong>Discord 내 일반 채팅 메시지는 저장하거나 분석하지 않습니다.</strong></li>
        </ul>

        <h2>제7조 (보유 및 이용 기간)</h2>
        <p>수집된 개인정보는 서비스 이용 목적 달성 시 즉시 파기되며, 특별한 사유가 없는 한 장기적으로 보관되지 않습니다. Notion 토큰은 연동 해제 또는 봇이 서버에서 추방되는 경우 즉시
            파기됩니다.</p>

        <h2>제8조 (법령에 따른 보유 기간)</h2>
        <p>현재 회사는 관련 법령에서 별도로 요구하는 소비자 기록, 결제 정보 등을 수집·저장하지 않으므로 이에 따른 보유 기간은 적용되지 않습니다.</p>

        <h2>제9조 (개인정보의 파기 원칙)</h2>
        <p>회사는 수집 목적이 달성되거나 보유 기간이 경과한 개인정보는 복구 불가능한 방식으로 지체 없이 파기합니다.</p>

        <h2>제9-2조 (국외이전)</h2>
        <p>본 서비스는 Discord, GitHub, Notion 등의 해외 API를 사용하며, 인증 시점에 한하여 해당 플랫폼의 서버로 정보가 전송됩니다. 회사는 해당 정보를 별도로 저장하지
            않습니다.</p>

        <h2>제10조 (개인정보 파기 절차)</h2>
        <p>모든 개인정보는 전자적 형태로만 보관되며, 더 이상 필요하지 않은 정보는 즉시 삭제됩니다. Notion 토큰은 연동 해제 또는 서버에서 봇이 제거되는 경우 즉시 삭제됩니다.</p>

        <h2>제11조 (개인정보 파기 방법)</h2>
        <p>전자파일은 복구 불가능한 기술적 방법을 통해 안전하게 삭제합니다.</p>

        <h2>제12조 (쿠키 설치 및 운영)</h2>
        <p>맞춤형 서비스 제공을 위해 쿠키를 사용할 수 있으며, 사용자는 브라우저 설정을 통해 이를 거부할 수 있습니다.</p>
        <ul>
            <li>Edge: 설정 > 쿠키 및 사이트 권한</li>
            <li>Chrome: 설정 > 개인정보 및 보안 > 쿠키</li>
            <li>Whale: 설정 > 개인정보 보호 > 쿠키 및 기타 사이트 데이터</li>
        </ul>

        <h2>제13조 (쿠키 설정 허용 지정 방법)</h2>
        <p>각 브라우저의 설정 메뉴를 통해 쿠키 허용 여부를 선택할 수 있으며, 일부 서비스 이용에 제한이 있을 수 있습니다.</p>

        <h2>제14조 (제3자 제공 및 처리 위탁)</h2>
        <p>회사는 개인정보를 제3자에게 제공하거나 외부 업체에 처리 위탁하지 않습니다.</p>

        <h2>제15조 (Notion 연동 시 권한 설정 안내)</h2>
        <p>사용자가 직접 생성한 Notion 통합 토큰을 이용해 연동하며, 해당 토큰은 오직 본인이 설정한 데이터베이스에만 접근할 수 있습니다.</p>
        <p><strong>보안을 위해 페이지 읽기 권한만 부여하시기를 권장합니다. 페이지 수정, 삭제, 공유 등의 권한은 절대 부여하지 마십시오.</strong> 회사는 사용자의 잘못된 권한 설정으로 인한
            피해에
            대해 책임을 지지 않습니다.</p>

        <h2>제16조 (문의 안내)</h2>
        <p>본 방침과 관련된 문의사항은 디스코드 공식 지원 서버를 통해 접수해주시거나 디스코드 상에서 봇에게 DM 보내시기 바랍니다.</p>
        <p>📍 지원 서버: <a href="https://discord.gg/Y7v493UHBQ">https://discord.gg/Y7v493UHBQ</a></p>
        <p>문의 시 개인정보는 별도로 저장되지 않으며, 문의 처리 목적 외로 사용되지 않습니다.</p>

        <p>최종 업데이트일: 2025년 5월 30일</p>
    </div>

    <div class="checkbox-box">
        <input type="checkbox" id="agree-check" onclick="toggleButton()"/>
        <label for="agree-check" style="color: white;">모두 읽고 동의합니다</label>
        <div class="warning-text" id="warning-text">스크롤을 끝까지 확인하셔야 동의할 수 있습니다.</div>
    </div>

    <div class="button-box">
        <!-- OAuth 인증 URL로 이동 -->
        <button class="agree-btn" id="agree-button" disabled>디스코드봇 불러오기</button>
    </div>
</div>

<script>
    const termsBox = document.getElementById('terms-box');
    const agreeCheckbox = document.getElementById('agree-check');
    const agreeButton = document.getElementById('agree-button');
    const warningText = document.getElementById('warning-text');

    let scrolledToBottom = false;

    // 1️⃣ 스크롤 확인
    termsBox.addEventListener('scroll', () => {
        if (termsBox.scrollTop + termsBox.clientHeight >= termsBox.scrollHeight - 5) {
            scrolledToBottom = true;
            warningText.style.display = 'none';
            if (agreeCheckbox.checked) {
                agreeButton.disabled = false;
            }
        }
    });

    // 2️⃣ 체크박스 클릭 시 조건 검사
    function toggleButton() {
        if (!scrolledToBottom && agreeCheckbox.checked) {
            // 체크 해제 및 경고
            agreeCheckbox.checked = false;
            warningText.style.display = 'block';
            agreeButton.disabled = true;
            return;
        }

        warningText.style.display = 'none';
        agreeButton.disabled = !(agreeCheckbox.checked && scrolledToBottom);
    }

    // 3️⃣ 버튼 클릭 시 팝업 띄우기
    agreeButton.onclick = () => {
        window.open(
            "https://discord.com/oauth2/authorize?client_id=955999346321686609&permissions=8&response_type=code&redirect_uri=https%3A%2F%2Fnotipy.code0987.com%2Foauth-popup&integration_type=0&scope=bot+connections+presences.read+messages.read+applications.commands"
        );
    };

    // 4️⃣ 메시지 수신 → oauth-success.html 이동
    window.addEventListener("message", (event) => {
        console.log("✅ 메시지 수신:", event.data);
        if (event.origin !== "https://notipy.code0987.com") return;
        if (event.data === "discord-auth-success") {
            window.location.href = "/oauth-success.html";
        }
    });
</script>
</body>
</html>
